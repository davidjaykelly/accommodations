/**
 * Activity toggle for accommodations.
 *
 * @module     local_accommodations/activity_toggle
 * @copyright  2025 Your Name <your.email@example.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_accommodations/activity_toggle",["jquery","core/ajax","core/str","core/notification"],(function($,Ajax,Str,Notification){return{init:function(){$(document).on("change",".activity-toggle",(function(){var toggle=$(this),cmid=toggle.data("cmid"),courseid=toggle.data("courseid"),status=toggle.prop("checked")?0:1;toggle.prop("disabled",!0),function(cmid,courseid,status){return Ajax.call([{methodname:"local_accommodations_toggle_activity",args:{cmid:cmid,courseid:courseid,status:status}}])[0]}(cmid,courseid,status).then((function(success){return success?Str.get_string(status?"disabled":"enabled","local_accommodations").then((function(statusText){return Str.get_string("accommodationsstatusupdated","local_accommodations",statusText).then((function(message){Notification.addNotification({message:message,type:"success"})}))})):(toggle.prop("checked",!toggle.prop("checked")),Str.get_string("statusupdatefailed","local_accommodations").then((function(message){Notification.addNotification({message:message,type:"error"})})))})).catch((function(error){toggle.prop("checked",!toggle.prop("checked")),Notification.exception(error)})).always((function(){toggle.prop("disabled",!1)}))}))}}}));

//# sourceMappingURL=activity_toggle.min.js.map