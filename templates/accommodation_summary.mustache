{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_accommodations/accommodation_summary

    Template for displaying a summary of a user's accommodations.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * accommodations - Array of accommodation objects
    * userid - User ID

    Example context (json):
    {
        "accommodations": [
            {
                "id": 1,
                "typename": "Learning Disability",
                "timeextension": 25,
                "scope": "All courses",
                "daterange": "Permanent",
                "notes": "Extra time for exams"
            },
            {
                "id": 2,
                "typename": "Language Accommodation",
                "timeextension": 15,
                "scope": "Math 101",
                "daterange": "2025-01-01 - 2025-12-31",
                "notes": ""
            }
        ],
        "userid": 42,
        "courseid": 5,
        "categoryid": 0
    }
}}

<div class="accommodations-summary">
    {{#accommodations.length}}
        <div class="card mb-4">
            <div class="card-header">
                <h4 class="mb-0">{{#str}}accommodationsforuser, local_accommodations{{/str}}</h4>
            </div>
            <div class="card-body p-0">
                <div class="list-group list-group-flush">
                    {{#accommodations}}
                        <div class="list-group-item">
                            <h5 class="mb-1">{{typename}}</h5>
                            <p class="mb-1">
                                <span class="font-weight-bold">{{#str}}timeextension, local_accommodations{{/str}}:</span>
                                <span class="badge badge-info">{{timeextension}}%</span>
                            </p>
                            <p class="mb-1">
                                <span class="font-weight-bold">{{#str}}scope, local_accommodations{{/str}}:</span>
                                {{scope}}
                            </p>
                            <p class="mb-1">
                                <span class="font-weight-bold">{{#str}}daterange, local_accommodations{{/str}}:</span>
                                {{daterange}}
                            </p>
                            {{#notes}}
                                <p class="mb-0">
                                    <span class="font-weight-bold">{{#str}}notes, local_accommodations{{/str}}:</span>
                                    {{notes}}
                                </p>
                            {{/notes}}
                            
                            <div class="mt-2">
                                {{#editurl}}
                                    <a href="{{editurl}}" class="btn btn-sm btn-secondary">
                                        {{#str}}edit{{/str}}
                                    </a>
                                {{/editurl}}
                            </div>
                        </div>
                    {{/accommodations}}
                </div>
            </div>
        </div>
    {{/accommodations.length}}
    {{^accommodations.length}}
        <div class="alert alert-info">
            {{#str}}noaccommodations, local_accommodations{{/str}}
        </div>
    {{/accommodations.length}}
    
    {{#addurl}}
        <div class="mt-3">
            <a href="{{addurl}}" class="btn btn-primary">
                {{#str}}addaccommodation, local_accommodations{{/str}}
            </a>
        </div>
    {{/addurl}}
</div>